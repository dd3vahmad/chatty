---
import ChatRoom from '@/components/ChatRoom.tsx';
import type { IPublicChat } from "@chatty/shared/src"
import Protected from '../protected.astro';

const chat: IPublicChat = Astro.params as any;

if (!chat.id) {
  Astro.redirect("/chats");
  return
}
---

<Protected title={chat.name || "N/A"}>
  <ChatRoom client:load room={chat} />
</Protected>